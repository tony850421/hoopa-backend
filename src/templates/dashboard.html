<div id="dashboard" class="row groupIntroductonStyle" ng-controller="DashBoardCtrl">
	<div ng-if="loading">
		<rd-loading></rd-loading>
	</div>

	<img ng-if="!loading" ng-src="./img/banner01.png" class="bannerDashboard">

	<div class="row" ng-if="!loading">
		<div class="col-lg-3 col-md-6 col-xs-12">
			<div class="widget-bodyUser">
				<rd-widget>
					<rd-widget-body class="widget-bodyUser">
						<div class="widget-iconUser pull-left">
							<span class="icon-01 iconDashboardMain"></span>
						</div>
						<div class="title">{{userCount}}</div>
						<div class="comment" translate="USERS"></div>
					</rd-widget-body>
				</rd-widget>
			</div>
		</div>
		<div class="col-lg-3 col-md-6 col-xs-12" ng-click="goToProjects()">
			<div class="widget-bodyProjects">
				<rd-widget>
					<rd-widget-body class="widget-bodyProjects">
						<div class="widget-iconProjects pull-left cursorPointer">
							<span class="icon-02 iconDashboardMain"></span>
						</div>
						<div class="title cursorPointer">{{packageCount}}</div>
						<div class="comment cursorPointer" translate="PACKAGES"></div>
					</rd-widget-body>
				</rd-widget>
			</div>
		</div>
		<div class="col-lg-3 col-md-6 col-xs-12">
			<div class="widget-bodyVisits">
				<rd-widget>
					<rd-widget-body class="widget-bodyVisits">
						<div class="widget-iconVisits pull-left">
							<span class="icon-03 iconDashboardMain"></span>
						</div>
						<div class="title">{{visitCount}}</div>
						<div class="comment" translate="VISITS"></div>
					</rd-widget-body>
				</rd-widget>
			</div>
		</div>
		<div class="col-lg-3 col-md-6 col-xs-12" ng-click="goToOffer()">
			<div class="widget-bodyOffers">
				<rd-widget>
					<rd-widget-body>
						<div class="widget-iconOffers pull-left cursorPointer">
							<span class="icon-04 iconDashboardMain"></span>
						</div>
						<div class="title cursorPointer">{{offerCount}}</div>
						<div class="comment cursorPointer" translate="OFFERS"></div>
					</rd-widget-body>
				</rd-widget>
			</div>
		</div>
	</div>

	<div class="row" ng-if="!loading">
		<div class="col-lg-6">
			<div class="groupTitleChart">
				<img class="imgVisits" ng-src="./img/statistics.png" />
				<h4 class="VisitTitle" translate="VISITPROJECTS"></h4>
			</div>
			<canvas id="bar" class="chart chart-bar" chart-data="data" chart-labels="labels" chart-series="series" chart-options="options"
			 chart-dataset-override="datasetOverride"></canvas>
		</div>
		<div class="col-lg-6">
			<div class="groupTitleChart">
				<img class="imgVisits" ng-src="./img/user.png" />
				<h4 class="VisitTitle" translate="USERDISTRIBUTIONS"></h4>
			</div>
			<canvas id="lineUser" class="chart chart-bar" chart-data="dataUsers" chart-labels="labelsUsers" chart-series="seriesUsers"
			 chart-options="options" chart-dataset-override="datasetOverride"></canvas>
		</div>
	</div>

	<div class="row" ng-if="!loading">
		<div class="col-lg-6">
			<rd-widget>
				<rd-widget-header icon="fa-users" title="{{'OFFICIALSUSERS' | translate}}">
				</rd-widget-header>
				<rd-widget-body classes="medium no-padding">
					<div class="table-responsive">
						<table class="table">
							<thead>
								<tr>
									<th translate="FULLNAME"></th>
									<th translate="COMPANY"></th>
									<th translate="PHONE"></th>
								</tr>
							</thead>
							<tbody ng-repeat="user in users">
								<tr ng-class="{'backgroundListTable': $index%2 == 0}">
									<td>{{user.fullName}}</td>
									<td>{{user.company}}</td>
									<td>{{user.phone}}</td>
								</tr>
							</tbody>
						</table>
					</div>
				</rd-widget-body>
			</rd-widget>
		</div>
		<div class="col-lg-6">
			<rd-widget>
				<rd-widget-header icon="fa-users" title="{{'TITLETPROJECT' | translate}}">
				</rd-widget-header>
				<rd-widget-body classes="medium no-padding">
					<div class="table-responsive">
						<table class="table">
							<thead>
								<tr>
									<th translate="PROJECTNAME"></th>
									<th translate="COMPANY"></th>
									<th translate="DEBIT"></th>
									<th translate="OFFERSAMOUNT"></th>
								</tr>
							</thead>
							<tbody ng-repeat="p in projectsWithOffers">
								<tr ng-class="{'backgroundListTable': $index%2 == 0}">
									<td>{{p.title}}</td>
									<td>{{p.company}}</td>
									<td>¥{{p.debit}}万</td>
									<td>¥{{p.offerAmount}}万</td>
								</tr>
							</tbody>
						</table>
					</div>
				</rd-widget-body>
			</rd-widget>
		</div>
	</div>
</div>