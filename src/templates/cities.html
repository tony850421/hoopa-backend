<div class="row groupIntroductonStyle padding-30" ng-controller="CitiesCtrl">

    <div ng-if="loading">
        <rd-loading></rd-loading>
    </div>

    <form class="padding20" ng-show="arrayCities.length> 0 && !loading">
        <div class="form-row">
            <div ng-repeat="member in arrayCities">
                <div class="cityItem">                 
                    <div class="citiesItemData">
                        <div>
                            <img class="imageCities" ng-src="{{member.mainImage}}">
                            <input type="file" class="custom-file-input updateCityImageImput" id="updateCityPicture_{{$index}}" 
                            onchange="angular.element(this).scope().changeValueMainImage(angular.element(this).scope().$index)">
                        </div>
                        <div class="width100">
                            <div class="displayFlexRow">
                                <label class="margin-bottom-0" id="cityName_{{$index}}">{{member.name}}</label>
                                <input id="updateCityName_{{$index}}" ng-change="updateCityName($index)" class="ng-hide" type="text" ng-model="nameUpdateCity"></input>                            
                                <div id="editCityName_{{$index}}" class="buttonEditHidden">
                                    <a type="button" class="btn btnEditCityName buttonEdit" ng-click="editCityName($index, member.name)">
                                        <span class="fa fa-edit"></span>
                                    </a>
                                </div>
                                <div id="saveCityName_{{$index}}" class="ng-hide">
                                    <a type="button" class="btn btnEditCityName buttonEditSave" ng-click="saveCityName($index, member.id)">
                                        <span class="fa fa-save"></span>
                                    </a>
                                </div>
                            </div>
                            <div class="displayFlexRow">
                                <h5><strong>{{'CITYPRICE' | translate}}:</strong></h5>
                                <label class="margin-bottom-0 labelPriceCityUpdate" id="cityPrice_{{$index}}">{{member.description}}</label>
                                <input id="updateCityPrice_{{$index}}" ng-change="updateCityPrice($index)" class="ng-hide" type="text" ng-model="priceUpdateCity"></input>
                                <div id="editCityPrice_{{$index}}" class="buttonEditHidden">
                                    <a type="button" class="btn btnEditCityPrice buttonEdit" ng-click="editCityPrice($index, member.price)">
                                        <span class="fa fa-edit"></span>
                                    </a>
                                </div>
                                <div id="saveCityPrice_{{$index}}" class="ng-hide">
                                    <a type="button" class="btn btnEditCityPrice buttonEditSave" ng-click="saveCityPrice($index, member.id)">
                                        <span class="fa fa-save"></span>
                                    </a>
                                </div>
                            </div>
                            <div class="displayFlexRow">
                                <label class="margin-bottom-0"><strong>{{'SHOWCITYTEXT' | translate}}:</strong></label>
                                <label id="cityVisibilityYes_{{$index}}" class="margin-bottom-0 visibilityCity" ng-show="member.show">{{'YES' | translate}}</label>
                                <label id="cityVisibilityNo_{{$index}}" class="margin-bottom-0 visibilityCity" ng-show="!member.show">{{'NO' | translate}}</label>
                                <select id="updateCityVisibility_{{$index}}" class="custom-select ng-hide" ng-change="updateCityVisibility($index)" ng-model="visibilityUpdateCity">
                                    <option value="0">{{'YES' | translate}}</option>
                                    <option value="1">{{'NO' | translate}}</option>
                                </select>
                                <div id="editCityVisibility_{{$index}}" class="buttonEditHidden">
                                    <a type="button" class="btn btnEditCityName buttonEdit" ng-click="editCityVisibility($index, member.price)">
                                        <span class="fa fa-edit"></span>
                                    </a>
                                </div>
                                <div id="saveCityVisibility_{{$index}}" class="ng-hide">
                                    <a type="button" class="btn btnEditCityName buttonEditSave" ng-click="saveCityVisibility($index, member.id)">
                                        <span class="fa fa-save"></span>
                                    </a>
                                </div>
                            </div>
                        </div>
                        <span class="fa fa-trash CityDelete" ng-click="deleteMember(member.id)"></span>
                    </div>
                    <div class="orderBox">
                        <div class="spanOrderBoxCities" ng-show="$index != 0 && $index != arrayCities.length -1">
                            <span class="fa fa-angle-up" ng-click="orderUp($index)"></span>
                        </div>
                        <div class="spanOrderBoxCities marginTop4" ng-show="$index != 0 && $index != arrayCities.length -1">
                            <span class="fa fa-angle-down" ng-click="orderDown($index)"></span>
                        </div>
                        <div class="spanOrderBoxCitiesUp" ng-show="$index == 0 && $index != arrayCities.length -1">
                            <span class="fa fa-angle-down" ng-click="orderDown($index)"></span>
                        </div>
                        <div class="spanOrderBoxCitiesUp" ng-show="$index != 0 && $index == arrayCities.length -1">
                            <span class="fa fa-angle-up" ng-click="orderUp($index)"></span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </form>

    <div id="addCityBox" ng-show="!loading">
        <div class="BranchesViewAdd">
            <div class="cityDataBox">                
                <div class="imageUpdateCitiBox">
                    <img class="imageMainCities" id="cityImage" ng-show="imageUpdate != ''">
                    <span class="icon-Image spanCitiesUpdate" ng-show="imageUpdate == ''"></span>
                    <input type="file" class="custom-file-input imageInputCities backgroundColorField" id="cityPicture" onchange="angular.element(this).scope().changeValueMainImageCity()">
                </div>
                <div class="displayFlexColumn width100">
                    <div class="displayFlexRow">
                        <div class="marginRight15 width45">
                            <label for="cityName" translate="CITYNAME"></label>
                            <input ng-model="cityNameNew" type="title" id="cityName" class="form-control backgroundColorField" required autofocus>
                        </div>
                        <div class="width50">
                            <label for="cityPrice" translate="CITYDESCRIPTION"></label>
                            <input ng-model="cityDescriptionNew" type="title" id="cityPrice" class="form-control backgroundColorField" required autofocus>
                        </div>
                    </div>
                    <div class="marginTop20">
                        <input type="checkbox" ng-model="cityVisibilityNew">
                        {{'SHOWCITYTEXT' | translate}}
                    </div>
                </div>
            </div>            
        </div>
        <div class="marginTop10 marginBottom10">
            <button class="btn btn-lg btn-primary colorBlue buttonAddBranche marginRight15" ng-click="addCity()">
                <span class="fa fa-plus"></span>
                <label class="margin-bottom-0 fontSize13" translate="SAVECITY"></label>
            </button>
        </div>
    </div>
</div>